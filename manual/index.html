<!DOCTYPE HTML>
<html>
<head>
<title> DeCE The Descriptive Correction of ENDF-6 Format Code  </title>
<meta charset="us-ascii">
<link rel='stylesheet' href='style.css'>
</head>
<body>

<h1><a name = "top"> The Descriptive Correction of ENDF-6 Format Code </a><br/>
     DeCE (Garnet) Manual </h1>

<p style="text-align:center;">
<img src="DeCE.png" width="340" height="320" alt="DeCE Logo" title="DeCE" style="margin-top:20px;margin-bottom:20px;padding:0px;">
</p>

<p style="text-align:center;"> October, 2022 </p>
<p style="text-align:right;"> Kawano Toshihiko </p>
<p style="text-align:right;"> Los Alamos National Laboratory </p>

<h2> Table of Contents </h2>

<ul>
<li> <a href="tutorial.html">
     Quick Tutorial </a>
<li> <a href="#general">
     Introduction </a>
    <ul>
    <li> <a href="#general">
         General Information </a>
    <li> <a href="#history">
         History </a>
    <li> <a href="#reference">
         Reference </a>
    </ul>
<li> <a href="usage.html">
     How to Run the Code </a>
    <ul>
    <li> <a href="usage.html#option">
         Command-Line Options </a>
    <li> <a href="usage.html#more">
         More Options </a>
    </ul>
<li> <a href="input.html">
     Input Data Format Description </a>
    <ul>
    <li> <a href="input.html#general">
         General Rules </a>
    <li> <a href="input.html#example">
         Examples</a>
        <ul>
        <li> <a href="input.html#example1">
             Renumber, reformat ENDF-6 file</a>
        <li> <a href="input.html#example2">
             Read one section from ENDF-6 file</a>
        <li> <a href="input.html#example3">
             Sum rule, recalculate elastic scattering </a>
        </ul>
    </ul>
<li> <a href="ope1.html">
     Individual Operation Description </a>
    <ul>
    <li> <a href="ope1.html#general">
         General Command </a>
        <ul>
        <li> <a href="ope1.html#tpid">
             tpid (change Tape ID) </a>
        <li> <a href="ope1.html#index">
             index (print MF/MT numbers)</a>
        <li> <a href="ope1.html#end">
             end / quit / exit</a>
        <li> <a href="ope1.html#echo">
             echo</a>
        </ul>
    <li> <a href="ope1.html#section">
         Section Manipulation </a>
        <ul>
        <li> <a href="ope1.html#extract">
             extract (print section in ENDF-6 format)</a>
        <li> <a href="ope1.html#table">
             table (print section in table format)</a>
        <li> <a href="ope1.html#delete">
             delete (delete section)</a>
        <li> <a href="ope1.html#multidelete">
             multidelete (delete multiple sections)</a>
        <li> <a href="ope1.html#duplicate">
             duplicate (copy section)</a>
        <li> <a href="ope1.html#calc">
             calc (calculate sum, difference, ratio, or product of two sections in MF3)</a>
        <li> <a href="ope1.html#make4">
             make4 (create MF/MT=3/4 section)</a>
        <li> <a href="ope1.html#nutotal">
             nutotal (create MF/MT=1/452 section)</a>
        </ul>
    <li> <a href="ope2.html">
         Create ENDF-6 Data From File </a>
        <ul>
        <li> <a href="ope2.html#read">
             read (read cross sections from file) </a>
        <li> <a href="ope2.html#multiread">
             multiread (read multiple cross section data from file)</a>
        <li> <a href="ope2.html#angdist">
             angdist (read scattering angular distribution data from file)</a>
        <li> <a href="ope2.html#multiangdist">
             multiangdist (read multiple angular distribution data from file)</a>
        <li> <a href="ope2.html#libread">
             libread (read a section from another file)</a>
        <li> <a href="ope2.html#multilibread">
             multilibread (read multiple sections from another file)</a>
        </ul>
    <li> <a href="ope3.html">
         Data Point Manipulation </a>
        <ul>
        <li> <a href="ope3.html#addpoint">
             addpoint (add one data point) </a>
        <li> <a href="ope3.html#delpoint">
             delpoint (delete one data point, or multiple points) </a>
        <li> <a href="ope3.html#modpoint">
             modpoint (update one data point by input)</a>
        <li> <a href="ope3.html#factor">
             factor (multiply data points by a factor)</a>
        <li> <a href="ope3.html#applyfunc">
             applyfunc (multiply data point by a function)</a>
        <li> <a href="ope3.html#noramlize">
             normalize (normalize data)</a>
        <li> <a href="ope3.html#readjust">
             readjust (readjust partial cross sections by the sum)</a>
        <li> <a href="ope3.html#changeint">
             changeint (modify interpolation law)</a>
        <li> <a href="ope3.html#changeqval">
             changeqval (modify Q-value)</a>
        <li> <a href="ope3.html#checkthreshold">
             checkthreshold (check threshold energy)</a>


        </ul>
    <li> <a href="ope3.html#MF6">
         Miscellaneous MF6 Operations
        <ul>
        <li> <a href="ope3.html#boundcorrect">
             boundcorrect (fix boundary energy) </a>
        <li> <a href="ope3.html#genprod">
             genprod (generate particle production cross section in MF3) </a>
        </ul>
    <li> <a href="resonance.html">
         Resonance Range  </a>
        <ul>
        <li> <a href="resonance.html#reconstruct">
             reconstruct (cross section from resonance parameters)</a>
        <li> <a href="resonance.html#reconangdist">
             reconangdist (angular distribution from resonance parameters)</a>
        <li> <a href="resonance.html#smoothangdist">
             smoothangdist (energy averaged Legendre coefficients from resonance parameters)</a>
        <li> <a href="resonance.html#resonanceangdist">
             resonanceangdist (merge energy averaged Legendre coefficients with existing elastic scattering angular distributions)</a>
        </ul>

    <li> <a href="header.html">
         Header Manipulation </a>
         <ul>
         <li> <a href="header.html#showheaders">
              showheaders / showheadertext (print parameters in header)</a>
         <li> <a href="header.html#editheader">
              editheader (modify header parameter)</a>
         <li> <a href="header.html#editheadertext">
              editheadertext (modify header text field)</a>
         </ul>
    </ul>

<li> <a href="option.html#set">
    Options (set)</a>

<li> <a href="option.html#memoryusage">
    memoryusage (print memory usage table)</a>

<li> <a href="processing.html">
    Data Processing </a>
     <ul>
    <li> <a href="processing.html#pointwise">
         pointwise (convert into pointwise cross sections)</a>
    <li> <a href="processing.html#group">
         group (convert into group-average cross sections)</a>
    </ul>


<li><a href="class.html">
    ENDF Class Library
    <ul>
    <li> <a href="class.html#record">
         Record Class</a>
    <li> <a href="class.html#endf">
         ENDF Class</a>
    <li> <a href="class.html#endfdict">
         ENDFDict Class</a>
    </ul>
<li><a href="endflib.html">
    C++ Interface to ENDF-6 Format
    <ul>
    <li> <a href="endflib.html#endflib">
         Data Block Structure</a>
        <ul>
        <li> <a href="endflib.html#cont">
             CONT </a>
        <li> <a href="endflib.html#list">
             LIST </a>
        <li> <a href="endflib.html#tab1">
             TAB1 </a>
        <li> <a href="endflib.html#tab2">
             TAB2 </a>
        </ul>
    <li> <a href="endfio.html">
         ENDF-6 Data Read/Write</a>

    <li> <a href="function1.html">
         ENDFLIB Functions</a>

    <li> <a href="function2.html">
         ENDFIO Functions</a>
    </ul>
</ul>

<hr>
<a href="#top">    [TOP]  </a>

<h1> Introduction </h1>
<h2><a name="general"> General Information </a></h2>

<img src="program.png" width="320" height="240" alt="desktop" title="desktop" style="margin-top:20px;margin-bottom:20px;margin-right:20pt;margin-left:20pt;padding:0px;float:right;">

<p>DeCE is an ENDF-6 formatted file manipulation program, similar to
STANEF by C.L. Dunford et al. (BNL), or FIXUP in PREPRO by D.E. Cullen
(IAEA), but probably the closest to CRECTJ6 by T. Nakagawa (JAEA), as
some data manupulation can be performed interactively.</p>

<p>In this manual, the word <code>ENDF-6 file</code> is often used.  This
does not refer to a particular name of libraries, like ENDF/B-VI, but
a data file which is in the ENDF-6 format in general.</p>

<p>In general, one data file (or the so-called tape) can contain more
than one materials, in which each of the materials is specified by a
different MAT number.  However, DeCE expects that an input ENDF-6 file
includes only one MAT number.</p>

<p>The capability of DeCE is shown below. Here the word "section" means a
data block specified by a combination of MF and MT numbers.</p>

<ul>
  <li> extract one section from a file, and display it
  <li> calculate add/sub/etc of two sections in MF3
  <li> manipulate a data-point in a section (insertion, replacement, scaling, and delete)
  <li> read data in an external file, and convert them into ENDF-6
  <li> reconstruct pointwise cross sections from given resonance parameters
  <li> renumber all the sections, make a new dictionary, 
       update <code>NWD</code> and <code>NXC</code> in the header section, 
       then write the entire data on a new file.
</ul> 

<p>DeCE is written in C++, and it has classes, ENDF and ENDFDict,
which provide interface to the ENDF-6 specified data structure. The
ENDF class is designed to be general so that it can be used in other
user utility programs. This package offers some examples to use the
ENDF class in the example direcrory.</p>



<h2><a name="history"> History </a></h2>

<p>The development of DeCE began in Dec. 2009. At each major
update, a new code name like, Talc, Gypsum, and Calcite, was given.
They are known as "the Mohs scale of mineral hardness." The code was
originally developed as a program <code>E-Type</code>, which was a
converter program from the Hauser-Feshbach model code output into the
ENDF-6 formatted data, first appeared in Summer 2009.  This was
totally superseded by DeCE.  The current version, first built in November 2020,
is Jadeite, whose Mohs scale is 6.5 - 7.</p>

<p>All versions up to DeCE (Fluorite) were just for the author's
private use. Apatite is the first version of outside release (yet
limited to the lab internal use). This version comes with some
documents. Turquoise is a stable version of Apatite, including many
bug fixes. Adularia, which was built in 2015, has several upgrades in
the resonance region. DeCE was released as open source software in
2016. In 2019 the source code was re-organized aiming at better
readability, and released as the version Pyrite. Some test cases are
also provided in this version. In winter in the same year, a few minor
updates were made, and released as the version Rutile. </p>

<p>In 2020, two versions of DeCE were released.
The covariance printing capability has been upgraded in June,
especially for the resonance parameter covariances. This version is Olivine.
In November, a more efficient memory allocation method was employed.
In the past, there were hard-coded size limits for each object,
which prevented flexible dynamical size change. The new version employs
a common technique of variable memory buffer, where the buffer size 
is dynamically enlarged as needed. To avoid unrealistic memory allocation,
DeCE still has a data size limit, which is defined in endflib.h.
A new version name, Jadeite, was assigned. Jadeite also includes
the more stabilized resonance reconstruction functionality by 
adding a Coulomb function for charged particle channels.</p>

<p style="text-align:center;">
<img src="decereconst1.png" width="400" height="280" alt="cross section reconstructed" title="cross section reconstructed" style="margin-top:20px;margin-bottom:20px;margin-right:20pt;margin-left:20pt;padding:0px;">

<img src="decereconst2.png" width="400" height="280" alt="cross section reconstructed" title="cross section reconstructed" style="margin-top:20px;margin-bottom:20px;margin-right:20pt;margin-left:20pt;padding:0px;">
</p>


<h2><a name="reference"> Reference </a></h2>

<p>DeCE: the ENDF-6 data interface and nuclear data evaluation assist code</p>
<p>Toshihiko Kawano</p>
<p>Journal of Nuclear Science and Technology, vol.56, issue 11, pages 1029-1035 (2019)</p>
<p><a href="https://doi.org/10.1080/00223131.2019.1637797">https://doi.org/10.1080/00223131.2019.1637797 </a></p>

<hr>
<a href="#top">    [TOP]  </a>
<hr>
</body>
</html>
